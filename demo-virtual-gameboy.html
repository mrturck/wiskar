<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Virtual Gameboy</title>

    <!-- Bootstrap Bootswatch theme CSS - other themes available here: https://bootswatch.com -->
    <link rel="stylesheet" href="https://cdn.rawgit.com/thomaspark/bootswatch/gh-pages/slate/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />

    <!-- Bootstrap JS Dependencies -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- A-Frame Scripts -->

    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.8.6/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v1.4.3/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/@gladeye/aframe-preloader-component@1.0.2/dist/aframe-preloader-component.min.js"></script>
    <script src="https://unpkg.com/aframe-html-shader@0.2.0/dist/aframe-html-shader.min.js"></script>
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
    <script src="https://unpkg.com/aframe-crawling-cursor@1.0.7/dist/aframe-crawling-cursor.js"></script>
    <script src="https://cdn.rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://cdn.rawgit.com/ngokevin/kframe/master/components/look-at/dist/aframe-look-at-component.js"></script>
    <script src="https://unpkg.com/aframe-lerp-component/dist/aframe-lerp-component.min.js"></script>
    <script src="https://unpkg.com/super-hands@1.1.0/dist/super-hands.min.js"></script>
    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <!--<script src="https://cdn.rawgit.com/hazardu5/aframe-gif-shader/master/dist/aframe-gif-shader.js"></script>-->
    <!--<script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>-->
    <!--<script src="https://unpkg.com/aframe-mirror-component/dist/aframe-mirror-component.min.js"></script>-->
    <script src="https://cdn.rawgit.com/mflux/aframe-lod/46ba6e0f653e696c6ba14ff7860b7d0454bae64a/aframe-lod.js"></script>

    <!--TODO: replace html shader component with aframe-draw-shader and access gameboy canvas ctx directly for better speed: <script src="https://rawgit.com/mayognaise/aframe-draw-shader/master/dist/aframe-draw-shader.min.js"></script> -->

    <script src="assets/js/components/auto-fall-respawn.js"></script>
    <script src="assets/js/components/gladeye-jump-ability.js"></script>
    <script src="assets/js/components/drop-sounds.js"></script>
    <script src="assets/js/components/follow.js"></script>
    <script src="assets/js/components/random-gif.js"></script>
    <script src="assets/js/components/vendor/aframe-gif-component.min.js"></script>

    <!-- Gameboy Online Scripts -->

    <script type="text/javascript">
        var DEBUG_MESSAGES = false;
        var DEBUG_WINDOWING = false;
        window.onload = function () {
            windowingInitialize();
        }
    </script>

    <script type="text/javascript" src="js/other/windowStack.js"></script>
    <script type="text/javascript" src="js/other/terminal.js"></script>
    <script type="text/javascript" src="js/other/gui.js"></script>
    <script>
        //set keycodes for emulator
        var keyZones = [
            ["right", [76]],
            ["left", [74]],
            ["up", [73]],
            ["down", [75]],
            ["a", [88]],
            ["b", [90]],
            ["select", [16]],
            ["start", [13]]
        ];
    </script>
    <script type="text/javascript" src="js/other/base64.js"></script>
    <script type="text/javascript" src="js/other/resampler.js"></script>
    <script type="text/javascript" src="js/other/XAudioServer.js"></script>
    <script type="text/javascript" src="js/other/resize.js"></script>
    <script type="text/javascript" src="js/GameBoyCore.js"></script>
    <script type="text/javascript" src="js/GameBoyIO.js"></script>
    <script>
        settings[2] = true; //force gb mode
        settings[3] = 1; //set gameboy volume
    </script>

    <script src="assets/js/main.js"></script>
</head>
<body>


<a-scene main physics preloader="autoClose:false; clickToClose: true; closeLabelText: Start; autoInject: false; target: #preloader-modal; labelText: Loading {0}% Complete">
    <a-assets>
        <img id="gameboy-ad-img" src="assets/img/gameboy-ad-1989.jpg" />
        <img id="gameboy-ad2-img" src="assets/img/gameboy-ad.png" />
        <a-asset-item id="gameboy-obj" src="assets/obj/gameboy/model.obj"></a-asset-item>
        <a-asset-item id="gameboy-mtl" src="assets/obj/gameboy/materials.mtl"></a-asset-item>
        <a-asset-item id="family-room-obj" src="assets/obj/family-room/model.obj"></a-asset-item>
        <a-asset-item id="family-room-mtl" src="assets/obj/family-room/materials.mtl"></a-asset-item>
        <a-asset-item id="glass-obj" src="assets/obj/glass/model.obj"></a-asset-item>
        <a-asset-item id="glass-mtl" src="assets/obj/glass/materials.mtl"></a-asset-item>
        <a-asset-item id="picture-obj" src="assets/obj/picture-frame/model.obj"></a-asset-item>
        <a-asset-item id="picture-mtl" src="assets/obj/picture-frame/materials.mtl"></a-asset-item>
        <audio id="falling1-sound" src="assets/ogg/falling1.ogg"></audio>
        <audio id="falling2-sound" src="assets/ogg/falling2.ogg"></audio>
        <audio id="falling3-sound" src="assets/ogg/falling3.ogg"></audio>
        <audio id="falling4-sound" src="assets/ogg/falling4.ogg"></audio>
        <audio id="jump0-sound" src="assets/ogg/344304__musiclegends__jump20.ogg"></audio>
        <audio id="jump1-sound" src="assets/ogg/344305__musiclegends__jump14.ogg"></audio>
        <audio id="hurt0-sound" src="assets/ogg/344300__musiclegends__hit-hurt17.ogg"></audio>
        <audio id="hurt1-sound" src="assets/ogg/344301__musiclegends__hit-hurt13.ogg"></audio>
        <a-mixin id="cube" geometry="primitive: box; width: 0.5; height: 0.5; depth: 0.5"
                 hoverable grabbable drop-sounds="soundLand: #hurt0-sound, #hurt1-sound;"></a-mixin>
        <a-mixin id="cube-hovered" material="opacity: 0.7; transparent: true">
        </a-mixin>
        <a-mixin id="cube-dragover" material="wireframe: true;"></a-mixin>
        <!-- NOTE: don't put physics components on mixins or this will break the auto-fall-respawn component -->
    </a-assets>
    <!--<a-locomotor>
        <a-entity hand-controls="left" super-hands="stretchStartButtons:''; stretchEndButtons:'';" sphere-collider="objects:#gameboy"></a-entity>
        <a-entity hand-controls="right" teleport-controls="collisionEntities:#collision-floor"></a-entity>
    </a-locomotor>-->

    <!--<a-plane id="tv-screen" material="shader:gif;src:url(https://media.giphy.com/media/3oz8xOvhnSpVOs9xza/giphy.gif)" gif position="-0.332 3.985 -4.836" geometry="width:3.04;height:1.550" rotation="1.891 2.063 0.057"></a-plane>-->

    <a-plane id="tv-screen" material="shader:gif;src:url(https://media.giphy.com/media/3oz8xOvhnSpVOs9xza/giphy.gif)" gif position="-0.332 3.985 -4.836" geometry="width:3.04;height:1.550" rotation="1.891 2.063 0.057"
            random-gif="
            srcs:https://media.giphy.com/media/l3vRjGzBZmyvZ9lmM/giphy.gif,
            https://media.giphy.com/media/3o7TKvAD1FgHjBZEiY/giphy.gif,
            https://media.giphy.com/media/3o6ZthUPXCVvZthrry/giphy.gif,
            https://media.giphy.com/media/fljfMP7p0VcuQ/giphy.gif,
            https://media.giphy.com/media/26ufilhJ2SYOD0DWE/giphy.gif,
            https://media.giphy.com/media/sBdbiqg1W3HsA/giphy.gif,
            https://media.giphy.com/media/l3vQWKjeEU1eXFio0/giphy.gif,
            https://media.giphy.com/media/kMiBbpXMjSM24/giphy.gif,
            https://media.giphy.com/media/3o6Zt8zw0oPVXqM8qk/giphy.gif,
            https://media.giphy.com/media/RsEw75jEYJzk4/giphy.gif,
            https://media.giphy.com/media/H68I21auZWulO/giphy.gif,
            https://media.giphy.com/media/3al8vLVKtngDS/giphy.gif,
            https://media.giphy.com/media/3o7TKMispaWJOCs1eo/giphy.gif,
            https://media.giphy.com/media/3oz8xR6E5JQzUHwxNK/giphy.gif,
            https://media.giphy.com/media/3oz8xKTj9pYv45zRfi/giphy.gif,
            https://media.giphy.com/media/bW6ZYe6xyD9Yc/giphy.gif,
            https://media.giphy.com/media/3o6Zt7XS3RFLxHO9eU/giphy.gif,
            https://media.giphy.com/media/y0pFrqtYhwbsY/giphy.gif,
            https://media.giphy.com/media/3oz8xL8Wofm2IHqwzC/giphy.gif,
            https://media.giphy.com/media/3oz8xGjX8gCKK4IJYA/giphy.gif,
            https://media.giphy.com/media/3o6Zt08zwfYXz8MXfi/giphy.gif,
            https://media.giphy.com/media/3oz8xKkuY65HJlC4lq/giphy.gif,
            https://media.giphy.com/media/3o6Zth9mWz8jvNq9A4/giphy.gif,
            https://media.giphy.com/media/NEtnEhsRz4Z0s/giphy.gif,
            https://media.giphy.com/media/fHGmEd342MxO0/giphy.gif,
            https://media.giphy.com/media/QNPqZFhebbulq/giphy.gif,
            https://media.giphy.com/media/f9p9GclvDGqcM/giphy.gif,
            https://media.giphy.com/media/NhdOe6ogq4H7y/giphy.gif,
            https://media.giphy.com/media/B0P7G2kNeVa7K/giphy.gif,
            https://media.giphy.com/media/Y44lGn2eJJ3u8/giphy.gif,
            https://media.giphy.com/media/BYeNqOWfrJVC0/giphy.gif,
            https://media.giphy.com/media/l2mNTMuUrtu12/giphy.gif,
            https://media.giphy.com/media/Y1gxR6ODeHUcg/giphy.gif,
            https://media.giphy.com/media/2Oyb4TwAu62yc/giphy.gif,
            https://media.giphy.com/media/DGScon3dAnjiM/giphy.gif,
            https://media.giphy.com/media/GukXcOuHNv1YY/giphy.gif,
            https://media.giphy.com/media/PoYBUwAlb7E6k/giphy.gif,
            https://media.giphy.com/media/2pMcWqNy2zzmo/giphy.gif,
            https://media.giphy.com/media/10fiEGSRm19UIM/giphy.gif,
            https://media.giphy.com/media/gkbJI9wtrEWbu/giphy.gif,
            https://media.giphy.com/media/nUh257pPEyGze/giphy.gif,
            https://media.giphy.com/media/MFKzRpC9iAK9W/giphy.gif,
            https://media.giphy.com/media/Jh5v08041Suf6/giphy.gif,
            https://media.giphy.com/media/ToMjGpC87kZY6cihIju/giphy.gif,
            https://media.giphy.com/media/NMByM7lbV2Pyo/giphy.gif
            "></a-plane>

    <!--<a-entity id="ball"  mirror="resolution: 64; distance:5; repeat: true; interval: 1000; refraction: 0.1" grabbable geometry="primitive: sphere; radius: 0.2" position="-1.275 2.962 -2.642" material="opacity:0" dynamic-body="mass: 1; shape: sphere;" auto-fall-respawn="fallHeight: -10; respawnPosition: -1.275 2.962 -2.642; respawnRotation: 0 0 0" position="2.662 3.249 -1.553">
        <a-sphere class="ignore-ray" radius="0.2">
        </a-sphere>
    </a-entity>-->

    <a-cylinder id="glass" grabbable hoverable radius="0.1" height="0.310" material="opacity:0" dynamic-body="mass: 0.05; shape: cylinder;" auto-fall-respawn="fallHeight: -10; respawnPosition: 0.538 2.876 -2.606; respawnRotation: 0 0 0" drop-sounds="soundLand: #hurt0-sound, #hurt1-sound;" position="0.538 2.876 -2.606">
        <a-entity scale="3 3 3" class="ignore-ray" obj-model="obj: #glass-obj; mtl: #glass-mtl"></a-entity>
    </a-cylinder>

    <a-box id="picture" material="opacity:0" position="-4.688 4.2 -3.725" geometry="depth:0.08;height:0.63;width:0.41" rotation="0 270 0" scale="2 2 2">
        <a-plane src="#gameboy-ad-img" rotation="180 0 180" position="0.004 -0.006 -0.044" geometry="height:0.5;width:0.33" material="side:double;"></a-plane>
        <a-entity scale="1 1 1" class="ignore-ray" obj-model="obj: #picture-obj; mtl: #picture-mtl" position="0 -0.287 0.026" rotation="-5.901465289847479 0 0"></a-entity>
    </a-box>

    <a-box id="picture2" material="opacity:0" position="-4.688 4.2 -0.803" geometry="depth:0.08;height:0.63;width:0.41" rotation="0 270 0" scale="2 2 2">
        <a-plane src="#gameboy-ad2-img" rotation="180 0 180" position="0.004 -0.006 -0.044" geometry="height:0.5;width:0.33" material="side:double;"></a-plane>
        <a-entity scale="1 1 1" class="ignore-ray" obj-model="obj: #picture-obj; mtl: #picture-mtl" position="0 -0.287 0.026" rotation="-5.901465289847479 0 0"></a-entity>
    </a-box>

    <a-entity id="room" class="ignore-ray" obj-model="obj: #family-room-obj; mtl: #family-room-mtl" position="0 3.5 0" scale="3 3 3">
        <a-box id="collision-side-table" static-body position="1.094 -0.408 0.068" depth="0.500" height="0.060" width="1.170" material="opacity:0" geometry="height:0.38;depth:0.47;width:0.47"></a-box>
        <a-box id="collision-table" static-body position="-0.174 -0.276 -0.786" depth="0.500" height="0.060" width="1.170" material="opacity:0"></a-box>
        <a-box id="collision-floor" static-body position="-0.083 -1.13 -0.565" depth="2.380" height="1.150" width="2.900" material="opacity:0"></a-box>
        <a-box id="collision-couch" static-body position="-0.169 -0.398 0.116" geometry="depth:0.61;height:0.18;width:1.53" material="opacity:0"></a-box>
        <a-box id="collision-wall1" static-body position="-1.607 0.046 -0.556" geometry="depth:2.4000000000000004;height:1.9;width:0.13999999999999996" material="opacity:0"></a-box>
        <a-box id="collision-wall2" static-body position="-0.129 0.046 0.706" geometry="depth:3.0599999999999996;width:0.14;height:1.9" material="opacity:0" rotation="0 90.01166961505233 0"></a-box>
        <a-box id="collision-wall3" static-body position="-0.129 0.046 -1.825" geometry="depth:3.06;width:0.14;height:1.9" material="opacity:0" rotation="0 90.012 0"></a-box>
    </a-entity>

    <a-entity id="cube" class="cube" mixin="cube" position="0.344 2.085 -4.668" material="color: red" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 0.344 3 -4.668; respawnRotation: 0 0 0"></a-entity>

    <a-entity id="gameboy" drop-sounds="soundLand: #hurt0-sound, #hurt1-sound;" hoverable grabbable auto-fall-respawn="fallHeight: -10; respawnPosition: -0.399 5 -2.332; respawnRotation: 0 0 0" class="ignore-ray" position="-0.399 5 -2.332" rotation="0 0 0" dynamic-body="mass: 50; shape: box;" obj-model="obj: #gameboy-obj; mtl: #gameboy-mtl">
        <a-plane id="game-screen" class="ignore-ray" position="-0.005 0.052 -0.156" rotation="-90 1 0" material="shader: html; target: #mainCanvas; fps: 60;" width="0.12" height="0.12"></a-plane>
        <a-box id="collision-gameboy" class="collider" position="0 0.007 -0.063" depth="0.390" height="0.090" width="0.220" material="opacity:0"></a-box>
    </a-entity>

    <a-gradient-sky material="shader: gradient; topColor: 255 0 0; bottomColor: 0 121 255;" class="ignore-ray"></a-gradient-sky>

    <a-ring id="my-cursor" radius-inner="0.05" radius-outer="0.1" sphere-collider="objects:#collision-gameboy,#glass,#ball,.cube; watch: true; radius: 0.1" lerp="properties: position, rotation"  super-hands static-body="shape: sphere; sphereRadius: 0.02;"></a-ring>

    <a-entity id="camera" camera position="2.861 3.249 -4.039"  rotation="-11.001 133.728 0" kinematic-body="radius: 0.5; enableSlopes: false;" auto-fall-respawn="fallHeight: -50; respawnPosition: 2.861 3.249 -4.039; respawnRotation: -11.001 133.728 0;" gladeye-jump-ability="maxJumps: 2; soundJump: #jump0-sound, #jump1-sound; soundLand: #hurt0-sound, #hurt1-sound; soundFalling: #falling1-sound, #falling2-sound, #falling3-sound, #falling4-sound;" raycaster universal-controls crawling-cursor="target: #my-cursor">
    </a-entity>

</a-scene>

<div id="preloader-modal" class="modal instructions-modal" tabindex="-1" role="dialog" style="display: none;">
    <div class="modal-dialog" role="document">

        <div class="modal-content text-center">
            <div class="modal-header">
                <h1>Retro Room Demo</h1>
            </div>
            <div class="col-md-12">
                <div class="row">
                    <div class="col-sm-6">
                        <strong>Keyboard</strong>
                        <ul class="list-group">
                            <li class="list-group-item">Movement<span class="badge">W</span><span class="badge">S</span><span class="badge">A</span><span class="badge">D</span></li>
                            <li class="list-group-item">Gameboy D-Pad<span class="badge">I</span><span class="badge">K</span><span class="badge">J</span><span class="badge">L</span></li>
                            <li class="list-group-item">Gameboy A<span class="badge">Z</span></li>
                            <li class="list-group-item">Gameboy B<span class="badge">X</span></li>
                            <li class="list-group-item">Gameboy Start<span class="badge">Enter</span></li>
                            <li class="list-group-item">Gameboy Select<span class="badge">Shift</span></li>
                        </ul>
                    </div>
                    <div class="col-sm-6">
                        <strong>Mouse</strong>
                        <ul class="list-group">
                            <li class="list-group-item">Pick up / release object <span class="badge">Left click</span></li>
                            <li class="list-group-item">Look<span class="badge">Mouse move</span></li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <i class="preloader-modal__ok fa fa-check fa-5x text-success" aria-hidden="true"></i>
                        <i class="preloader-modal__spinner fa fa-cog fa-spin fa-5x fa-fw text-muted" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <span class="progress-label">Loading 0%</span>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-default btn-lg clearfix" data-dismiss="modal">Start</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div style="width: 100%; height: 100%; position: fixed; left: 0; top: 0; z-index: -1; overflow: hidden">
    <canvas id="mainCanvas"></canvas>
</div>
<div style="display: none">
    <div id="GameBoy" class="window">
        <div class="menubar">
            <span id="GameBoy_file_menu">File</span>
            <span id="GameBoy_settings_menu">Settings</span>
            <span id="GameBoy_view_menu">View</span>
            <span id="GameBoy_about_menu">About</span>
        </div>
        <div id="gfx">
            <span id="title">GameBoy</span>
            <span id="port_title">Online</span>
        </div>
    </div>
    <div id="terminal" class="window">
        <div id="terminal_output"></div>
        <div class="button_rack">
            <button id="terminal_clear_button" class="left">Clear Messages</button>
            <button id="terminal_close_button" class="right">Close Terminal</button>
        </div>
    </div>
    <div id="about" class="window">
        <div id="about_message">
            <h1>GameBoy Online</h1>
            <p>This is a GameBoy Color emulator written purely in JavaScript by Grant Galitz.</p>
            <p>The graphics blitting is done through HTML5 canvas, with the putImageData and drawImage functions.</p>
            <p>Save states are implemented through the window.localStorage object, and are serialized/deserialized through
                JSON. SRAM saving is also implemented through the window.localStorage object, and are
                serialized/deserialized through JSON. In order for save states to work properly on most browsers, you need
                set the maximum size limit for DOM storage higher, to meet the needs of the emulator's save data size.</p>
            <p>For more information about this emulator and its source code, visit the GIT repository at: <a
                    href="https://github.com/taisel/GameBoy-Online"
                    target="_blank">https://github.com/taisel/GameBoy-Online</a>.
            </p>
        </div>
        <div class="button_rack">
            <button id="about_close_button" class="center">Close Popup</button>
        </div>
    </div>
    <div class="window" id="settings">
        <div id="toggle_settings">
            <div class="setting">
                <label for="enable_sound">Enable Sound:</label>
                <input type="checkbox" checked="checked" id="enable_sound"/>
            </div>
            <div class="setting">
                <label for="disable_colors">GB mode has priority over GBC mode:</label>
                <input type="checkbox" id="disable_colors"/>
            </div>
            <div class="setting">
                <label for="enable_gbc_bios">Use the BIOS ROM:</label>
                <input type="checkbox" checked="checked" id="enable_gbc_bios"/>
            </div>
            <div class="setting">
                <label for="rom_only_override">Override ROM only cartridge typing to MBC1:</label>
                <input type="checkbox" checked="checked" id="rom_only_override"/>
            </div>
            <div class="setting">
                <label for="mbc_enable_override">Always allow reading and writing to the MBC banks:</label>
                <input type="checkbox" checked="checked" id="mbc_enable_override"/>
            </div>
            <div class="setting">
                <label for="enable_colorization">Colorize Classic GameBoy Palettes:</label>
                <input type="checkbox" checked="checked" id="enable_colorization"/>
            </div>
            <div class="setting">
                <label for="do_minimal">Minimal view on fullscreen:</label>
                <input type="checkbox" checked="checked" id="do_minimal"/>
            </div>
            <div class="setting">
                <label for="software_resizing">Resize canvas directly in JavaScript:</label>
                <input type="checkbox" id="software_resizing"/>
            </div>
            <div class="setting">
                <label for="typed_arrays_disallow">Disallow typed arrays to be used:</label>
                <input type="checkbox" id="typed_arrays_disallow"/>
            </div>
            <div class="setting">
                <label for="gb_boot_rom_utilized">Use the DMG boot ROM instead of CGB:</label>
                <input type="checkbox" id="gb_boot_rom_utilized"/>
            </div>
            <div class="setting">
                <label for="resize_smoothing">Smooth upon resizing canvas:</label>
                <input type="checkbox" checked="checked" id="resize_smoothing"/>
            </div>
            <div class="setting">
                <label for="channel1">Enable Channel 1 Audio:</label>
                <input type="checkbox" checked="checked" id="channel1"/>
            </div>
            <div class="setting">
                <label for="channel2">Enable Channel 2 Audio:</label>
                <input type="checkbox" checked="checked" id="channel2"/>
            </div>
            <div class="setting">
                <label for="channel3">Enable Channel 3 Audio:</label>
                <input type="checkbox" checked="checked" id="channel3"/>
            </div>
            <div class="setting">
                <label for="channel4">Enable Channel 4 Audio:</label>
                <input type="checkbox" checked="checked" id="channel4"/>
            </div>
        </div>
        <div class="button_rack">
            <button id="settings_close_button" class="center">Close Settings</button>
        </div>
    </div>
    <div id="instructions" class="window">
        <div id="keycodes">
            <h1>Keyboard Controls:</h1>
            <ul>
                <li>X/J are A.</li>
                <li>Z/Y/Q are B.</li>
                <li>Shift is Select.</li>
                <li>Enter is Start.</li>
                <li>The d-pad is the control pad.</li>
                <li>The escape key (esc) allows you to get in and out of fullscreen mode.</li>
            </ul>
        </div>
        <div class="button_rack">
            <button id="instructions_close_button" class="center">Close Instructions</button>
        </div>
    </div>
    <div id="input_select" class="window">
        <form>
            <input type="file" id="local_file_open"/>
        </form>
        <div class="button_rack">
            <button id="input_select_close_button" class="center">Close File Input</button>
        </div>
    </div>
    <div id="save_importer" class="window">
        <form>
            <input type="file" id="save_open"/>
        </form>
        <div class="button_rack">
            <button id="save_importer_close_button" class="center">Close Save Importer</button>
        </div>
    </div>
    <div class="window" id="local_storage_listing">
        <div id="storageListingMasterContainer" class="storageList">
            <div id="storageListingMasterContainerSub"></div>
        </div>
        <div id="download_all_storage">
            <a href="about:blank" id="download_local_storage_dba">Export all saved data.</a>
        </div>
        <div class="button_rack">
            <button id="local_storage_list_refresh_button" class="left">Refresh List</button>
            <button id="local_storage_list_close_button" class="right">Close Storage List</button>
        </div>
    </div>
    <div class="window" id="local_storage_popup">
        <div id="storagePopupMasterParent" class="storageList">
            <div id="storagePopupMasterContainer"></div>
        </div>
        <div class="button_rack">
            <button id="local_storage_popup_close_button" class="center">Close Storage Popup</button>
        </div>
    </div>
    <div class="window" id="freeze_listing">
        <div id="freezeListingMasterContainer" class="storageList">
            <div id="freezeListingMasterContainerSub"></div>
        </div>
        <div class="button_rack">
            <button id="freeze_list_refresh_button" class="left">Refresh List</button>
            <button id="freeze_list_close_button" class="right">Close Freeze State List</button>
        </div>
    </div>
    <ul class="menu" id="GameBoy_file_popup">
        <li>Open As
            <ul class="menu">
                <li id="data_uri_clicker">Base 64 Encoding</li>
                <li id="internal_file_clicker">Local File</li>
            </ul>
        </li>
        <li id="save_SRAM_state_clicker">Save Game Memory</li>
        <li id="save_state_clicker">Save Freeze State</li>
        <li id="set_volume">Set Volume</li>
        <li id="set_speed">Set Speed</li>
        <li id="restart_cpu_clicker">Restart</li>
        <li id="run_cpu_clicker">Resume</li>
        <li id="kill_cpu_clicker">Pause</li>
    </ul>
    <ul class="menu" id="GameBoy_view_popup">
        <li id="view_terminal">Terminal</li>
        <li id="view_instructions">Instructions</li>
        <li id="view_importer">Save Importer</li>
        <li id="local_storage_list_menu">Save Manager</li>
        <li id="freeze_list_menu">Freeze State Manager</li>
        <li id="view_fullscreen">Fullscreen Mode</li>
    </ul>
    <div id="fullscreenContainer">
        <canvas id="fullscreen" class="maximum"></canvas>
    </div>
</div>

<!--<div id="_giphy_tv"></div>
<script>
    var _giphy_tv_tag="gameboy";
    var g = document.createElement('script'); g.type = 'text/javascript'; g.async = true;
    g.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'giphy.com/static/js/widgets/tv.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(g, s);
    setTimeout(function(){
        //var textWrapper = document.getElementById('asdf-text-wrapper');
        //textWrapper.parentNode.removeChild(textWrapper);

        for(var i = 0; i < document.styleSheets.length; i++){

            switch(document.styleSheets[i].href){
                case 'https://giphy.com/static/css/widgets/tv.css?2':
                    document.styleSheets[i].disabled = true;
                    break;
            }
        }

    },2000);
</script>-->
<iframe width="100%" height="450" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/349520772&amp;color=ff5500&amp;auto_play=true&amp;hide_related=true&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;visual=false"></iframe>
</body>
</html>
