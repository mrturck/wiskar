<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
    <title>A-Frame Mouse Cursor Component - Basic</title>
		<script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
	  <script src="../build/aframe-ar.js"></script>
    <script src="../lib/a-frame-gif-component.js"></script>
    <script src="../lib/annyang.min.js"></script></head>

		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  </head>

  <body>

    <a-scene embedded arjs='sourceType: webcam;'>

  		<a-marker-camera preset='W'>

        <a-plane rotation="270 0 0"></a-plane>

  		</a-marker-camera>

  	</a-scene>
		<script>

     function update(x) {
       var xhr = $.get("https://api.giphy.com/v1/gifs/search?q="+x+"&api_key=nb7FO4v0achKto445uJPRnFdA03NFLi0&limit=10");
       var receipt = xhr.done(function(data) {
         var image = data.data[0].images.fixed_width_downsampled["url"];
         var image_url = "shader:gif;src:url(" + image + ")"
         document.querySelector('a-plane').setAttribute('material', image_url)
         });
       }

       var j = "shader:gif;src:url(https://media.giphy.com/media/3oz8xOvhnSpVOs9xza/giphy.gif)"
       document.querySelector('a-plane').setAttribute('material',j)


    if (annyang) {

      var test = function(x) {
        console.log(x)
        update(x);
      }

     var getStarted = function() {
       window.location.href = 'https://github.com/TalAter/annyang';
     }

     var commands = {
       'show me *search':      test,
     };

     annyang.addCommands(commands);
     annyang.setLanguage('en');
     annyang.start({ autoRestart: true });
     }
 </script>





  </body>
</html>
